<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <style>
      body {
        background: black;
        height: 6000px;
      }
      div {
        margin-top: 1000px;
        color: white;
        text-align: center;
        opacity: 0;
        transition: all 0.5s;
      }
    </style>

    <div><h1>test</h1></div>
    <div><h1>test</h1></div>
    <div><h1>test</h1></div>
    <div><img src="" alt="" /></div>

    <script>
      //   객체 생성 및 콜백함수 작성
      let observer = new IntersectionObserver((e) => {
        // 등장하면 이 에니메이션이 작동됨
        e.forEach((element) => {
          if (element.isIntersecting) {
            // 보일때만 작동
            element.target.style.opacity = 1;
          } else {
            element.target.style.opacity = 0;
          }
          //   element.intersectionRatio; 다양한 옵션이 존대
        });
      });

      //    관찰 대상 지정
      let div = document.querySelectorAll("div");

      observer.observe(div[0]);
    </script>
  </body>
</html>
