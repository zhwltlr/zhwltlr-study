<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>질문 게시판</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/htmx.org@1.9.5"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.11"></script>

    <style>
      tr.htmx-swapping td {
        opacity: 0;
        transition: opacity 1s ease-out;
      }
    </style>
  </head>

  <body
    class="d-flex flex-column min-vh-100 justify-content-center align-items-center"
  >
    <div class="container mt-4">
      <h1 style="color: navy; font-weight: 700">질문 게시판</h1>
      <div class="col-md-12" style="margin-bottom: 40px">
        <h3 style="margin: 30px 0 20px">게시물 목록</h3>
        <ul
          class="list-group"
          id="postList"
          hx-get="/api/posts"
          hx-trigger="load"
        ></ul>
      </div>
      <div class="col-md-12 mt-3">
        <h3>게시물 추가</h3>
        <form id="postForm" hx-post="/api/posts">
          <div class="mb-3">
            <label for="title" class="form-label">제목:</label>
            <input
              type="text"
              id="title"
              name="title"
              class="form-control"
              hx-trigger="change"
              required
            />
          </div>
          <div class="mb-3">
            <label for="content" class="form-label">내용:</label>
            <textarea
              id="content"
              name="content"
              class="form-control"
              hx-trigger="change"
              required
            ></textarea>
          </div>
          <button
            type="submit"
            hx-swap="outerHTML"
            hx-target="#postForm"
            class="btn btn-primary"
          >
            게시물 추가
          </button>
        </form>
      </div>
    </div>

    <!-- test -->
    <table
      class="table delete-row-example"
      style="margin: 0 auto; width: 1200px"
    >
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="contactList" hx-get="/contact" hx-trigger="load"></tbody>
    </table>
    <div class="col-md-12 mt-3" style="width: 1200px; margin: 0 auto">
      <form
        id="postForm"
        hx-post="/contact"
        style="display: flex; justify-content: flex-start; align-items: center"
        hx-swap="innerHTML"
        hx-target="#contactList"
      >
        <label for="title" class="form-label">이름:</label>
        <input
          style="width: 30%; margin-left: 10px"
          type="text"
          id="name"
          name="name"
          class="form-control"
          hx-trigger="change"
          required
        />

        <label for="content" class="form-label" style="margin-left: 10px"
          >이메일:</label
        >
        <input
          style="width: 30%; margin-left: 10px"
          id="email"
          name="email"
          class="form-control"
          hx-trigger="change"
          required
        />

        <button style="margin-left: 10px" type="submit" class="btn btn-primary">
          추가
        </button>
      </form>
    </div>
  </body>
</html>
